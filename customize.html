<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Doxygen: Customizing the output</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen_manual.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Doxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('customize.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">自定义输出 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>内容列表</h3>
<ul><li class="level1"><a href="#minor_tweaks">轻微的调整</a><ul><li class="level2"><a href="#minor_tweaks_colors">Overall Color</a></li>
<li class="level2"><a href="#minor_tweaks_treeview">导航</a></li>
<li class="level2"><a href="#minor_tweaks_dynsection">动态内容</a></li>
<li class="level2"><a href="#minor_tweaks_header_css">页眉、页脚和样式表更改</a></li>
</ul>
</li>
<li class="level1"><a href="#layout">更改页面布局</a></li>
<li class="level1"><a href="#xmlgenerator">使用XML输出</a></li>
</ul>
</div>
<div class="textblock"><p>Doxygen提供不同级别的定制。<a class="el" href="customize.html#minor_tweaks">轻微的调整</a> 一节讨论了如果想对输出的外观和感觉做一些次要的调整，应该做什么。段落<a class="el" href="customize.html#layout">布局</a>显示了如何在页面上重新排序和隐藏某些信息。 <a class="el" href="customize.html#xmlgenerator">XML输出</a> 一节展示了如何根据doxygen生成的XML输出生成所需的任何输出。</p>
<h1><a class="anchor" id="minor_tweaks"></a>
轻微的调整</h1>
<p>下一小节将描述一些可以轻微调整的方面。</p>
<h2><a class="anchor" id="minor_tweaks_colors"></a>
整体的颜色</h2>
<p>要更改HTML输出的整体颜色，doxygen提供了三个选项</p><ul>
<li><a class="el" href="config.html#cfg_html_colorstyle_hue">HTML_COLORSTYLE_HUE</a></li>
<li><a class="el" href="config.html#cfg_html_colorstyle_sat">HTML_COLORSTYLE_SAT</a></li>
<li><a class="el" href="config.html#cfg_html_colorstyle_gamma">HTML_COLORSTYLE_GAMMA</a></li>
</ul>
<p>分别改变颜色的色调、饱和度和伽马校正。</p>
<p>为方便起见，GUI frontend<a class="el" href="doxywizard_usage.html">Doxywizard</a> 有一个控件，允许您实时查看更改这些选项的值对输出的影响。</p>
<h2><a class="anchor" id="minor_tweaks_treeview"></a>
导航</h2>
<p>默认情况下，doxygen在每个HTML页面的顶部显示导航选项卡，对应的设置如下:</p>
<ul>
<li><a class="el" href="config.html#cfg_disable_index">DISABLE_INDEX</a> = <code>NO</code> </li>
<li><a class="el" href="config.html#cfg_generate_treeview">GENERATE_TREEVIEW</a> = <code>NO</code> </li>
</ul>
<p>您可以切换到交互式导航树作为侧栏使用</p>
<ul>
<li><a class="el" href="config.html#cfg_disable_index">DISABLE_INDEX</a> = <code>YES</code> </li>
<li><a class="el" href="config.html#cfg_generate_treeview">GENERATE_TREEVIEW</a> = <code>YES</code> </li>
</ul>
<p>甚至有两种导航方式:</p>
<ul>
<li><a class="el" href="config.html#cfg_disable_index">DISABLE_INDEX</a> = <code>NO</code> </li>
<li><a class="el" href="config.html#cfg_generate_treeview">GENERATE_TREEVIEW</a> = <code>YES</code> </li>
</ul>
<p>如果您已经使用了外部索引(即启用了以下选项之一的<a class="el" href="config.html#cfg_generate_htmlhelp">GENERATE_HTMLHELP</a>、 <a class="el" href="config.html#cfg_generate_eclipsehelp">GENERATE_ECLIPSEHELP</a>、 <a class="el" href="config.html#cfg_generate_qhp">GENERATE_QHP</a>或<a class="el" href="config.html#cfg_generate_docset">GENERATE_DOCSET</a>)，那么还可以禁用所有索引，如下所示:</p>
<ul>
<li><a class="el" href="config.html#cfg_disable_index">DISABLE_INDEX</a> = <code>YES</code> </li>
<li><a class="el" href="config.html#cfg_generate_treeview">GENERATE_TREEVIEW</a> = <code>NO</code> </li>
</ul>
<h2><a class="anchor" id="minor_tweaks_dynsection"></a>
动态内容</h2>
<p>为了使HTML输出更具交互性，doxygen提供了一些默认情况下禁用的选项:</p><ul>
<li>启用<a class="el" href="config.html#cfg_html_dynamic_sections">HTML_DYNAMIC_SECTIONS</a> 将使doxygen默认情况下在HTML中隐藏某些内容(如图表)，并允许读</li>
<li>在将 <a class="el" href="config.html#cfg_dot_image_format">DOT_IMAGE_FORMAT</a> 设置为 <code>svg</code>时，启用<a class="el" href="config.html#cfg_have_dot">HAVE_DOT</a>和<a class="el" href="config.html#cfg_interactive_svg">INTERACTIVE_SVG</a> 将使doxygen生成svg图像，从而允许用户缩放和平移(只有当图像的大小超过一定的尺寸时才会发生这种情况)。</li>
</ul>
<h2><a class="anchor" id="minor_tweaks_header_css"></a>
页眉、页脚和样式表更改</h2>
<p>要详细调整HTML输出的字体或颜色、页边距或其他外观方面，可以创建不同的<a href="https://www.w3schools.com/css/default.asp">层叠样式表</a>。 您还可以让doxygen为它生成的每个HTML页面使用自定义的页眉和页脚，例如，使输出符合web站点其他部分使用的样式。</p>
<p>第一次运行doxygen如下: </p><pre class="fragment">doxygen -w html header.html footer.html customdoxygen.css 
</pre><p>这将创建3个文件:</p><ul>
<li>header.html 是一个HTML片段，doxygen通常使用它来启动HTML页面。注意，片段以一个body标记结束，该标记包含两个表单$word的命令。这些将被doxygen替代。</li>
<li>footer.html 是一个HTML片段，doxygen通常使用它来结束HTML页面。这里也可以使用特殊的命令。该文件包含指向www.doxygen.org的链接以及正文和html结束标记。</li>
<li>css是doxygen使用的默认级联样式表。建议只查看这个文件并通过将它们放在单独的样式表中并通过 <a class="el" href="config.html#cfg_html_extra_stylesheet">HTML_EXTRA_STYLESHEET</a>引用这些额外的文件来否决您喜欢的一些设置。</li>
</ul>
<p>您应该编辑这些文件，然后从配置文件引用它们。</p><ul>
<li><a class="el" href="config.html#cfg_html_header">HTML_HEADER</a> = <code>header.html</code> </li>
<li><a class="el" href="config.html#cfg_html_footer">HTML_FOOTER</a> = <code>footer.html</code> </li>
<li><a class="el" href="config.html#cfg_html_extra_stylesheet">HTML_EXTRA_STYLESHEET</a> = <code>my_customdoxygen.css</code> </li>
</ul>
<dl class="section note"><dt>注意</dt><dd>不再推荐使用<a class="el" href="config.html#cfg_html_stylesheet">HTML_STYLESHEET</a>，因为它使升级到较新的doxygen版本变得困难。可以使用<a class="el" href="config.html#cfg_html_extra_stylesheet">HTML_EXTRA_STYLESHEET</a>代替。</dd></dl>
<p>有关可以在自定义头部中使用的可能元命令的更多信息，请参阅<a class="el" href="config.html#cfg_html_header">HTML_HEADER</a> 标记的文档。</p>
<dl class="section note"><dt>注意</dt><dd>您不应该将样式表放在HTML输出目录中。把它当作一个源文件。Doxygen会帮你复制。</dd>
<dd>
如果在自定义头文件中使用图像或其他外部内容，则需要确保这些内容最终位于HTML输出目录中，例如，通过编写运行doxygen的脚本可以将图像复制到输出中。</dd></dl>
<dl class="section warning"><dt>警告</dt><dd>在升级到较新版本的doxygen之后，页眉和页脚的结构可能会发生变化，因此，如果使用自定义页眉或页脚，在升级之后它可能不再生成有效的输出。</dd></dl>
<h1><a class="anchor" id="layout"></a>
更改页面布局</h1>
<p>在某些情况下，您可能希望更改输出的结构。在这种情况下，不同的样式表或自定义页眉和页脚没有帮助。</p>
<p>doxygen提供的解决方案是一个布局文件，您可以修改它，doxygen将使用它来控制显示什么信息、以什么顺序显示以及在某种程度上如何显示信息。布局文件是一个XML文件。.</p>
<p>默认布局可以由doxygen使用以下命令生成: </p><pre class="fragment">doxygen -l 
</pre><p> 可以选择指定布局文件的名称，如果省略DoxygenLayout.xml，<code>DoxygenLayout.xml</code>则使用。</p>
<p>下一步是在配置文件中提到布局文件</p><pre class="fragment">LAYOUT_FILE = DoxygenLayout.xml
</pre><p> 要更改布局，只需编辑布局文件。</p>
<p>文件的顶层结构如下: </p><pre class="fragment">&lt;doxygenlayout version="1.0"&gt;
  &lt;navindex&gt;
    ...
  &lt;/navindex&gt;
  &lt;class&gt;
    ...
  &lt;/class&gt;
  &lt;namespace&gt;
    ...
  &lt;/namespace&gt;
  &lt;file&gt;
    ...
  &lt;/file&gt;
  &lt;group&gt;
    ...
  &lt;/group&gt;
  &lt;directory&gt;
    ...
  &lt;/directory&gt;
&lt;/doxygenlayout&gt;
</pre><p>XML文件的根元素是<code>doxygenlayout</code>，它有一个名为<code>version</code>的属性，将来将使用该属性来处理不向后兼容的更改。</p>
<p>第一部分由<code>navindex</code> 元素标识，表示每个HTML页面顶部显示的导航选项卡的布局。同时，如果启用了<a class="el" href="config.html#cfg_generate_treeview">GENERATE_TREEVIEW</a>，它还控制导航树中的项。每个选项卡都由XML文件中的 <code>tab</code>元素表示。</p>
<p>您可以通过将<code>visible</code>属性设置为<code>no</code>来隐藏选项卡。还可以将选项卡的默认标题指定为<code>title</code> 属性的值，从而覆盖它。如果title字段是空字符串(默认值)，那么doxygen将填充适当的特定于语言的标题。</p>
<p>您可以通过在<code>navindex</code> 元素中移动XML文件中的tab元素来重新排序选项卡，甚至可以更改树结构。但是，不要更改<code>type</code> 属性的值。只支持一组固定的类型，每个类型表示指向特定索引的链接。</p>
<p>您还可以使用名为“user”的类型添加自定义选项卡。下面是一个例子，展示了如何添加一个标签，标题为“谷歌”指向www.google.com:</p>
<pre class="fragment">  &lt;navindex&gt;
    ...
    &lt;tab type="user" url="http://www.google.com" title="Google"/&gt;
    ...
  &lt;/navindex&gt;
</pre><p>url字段也可以是相对URL。如果URL以@ref开头，则链接将指向文档化的实体，如类、函数、组或相关页面。假设我们使用@page和标签mypage定义了一个页面，那么这个页面的标签“My page”将如下所示:</p>
<pre class="fragment">  &lt;navindex&gt;
    ...
    &lt;tab type="user" url="@ref mypage" title="My Page"/&gt;
    ...
  &lt;/navindex&gt;
</pre><p>您还可以使用类型为“usergroup”的选项卡将选项卡组合到自定义组中。下面的例子将上述选项卡放在一个名为“My group”的用户定义的组中:</p>
<pre class="fragment">  &lt;navindex&gt;
    ...
    &lt;tab type="usergroup" title="My Group"&gt;
      &lt;tab type="user" url="http://www.google.com" title="Google"/&gt;
      &lt;tab type="user" url="@ref mypage" title="My Page"/&gt;
    &lt;/tab&gt;
    ...
  &lt;/navindex&gt;
</pre><p>可以嵌套组来形成层次结构。</p>
<p>默认情况下，导航树中的usergroup条目是指向包含该组内容的登录页面的链接。您可以使用<code>url</code>属性链接到另一个页面，就像您可以链接到 <code>&lt;tab&gt;</code>元素一样，并且可以使用 <code>url="[none]"</code>防止任何链接，即</p>
<pre class="fragment">   &lt;tab type="usergroup" title="Group without link" url="[none]"&gt;
   ...
   &lt;/tab&gt;
</pre><p><code>navindex</code> 后的元素表示doxygen生成的不同页面的布局:</p><ul>
<li> <code>class</code> 元素表示为文档化的类、结构、联合和接口生成的所有页面的布局。</li>
<li> <code>namespace</code> 元素表示为文档化名称空间(以及Java包)生成的所有页面的布局。</li>
<li> <code>file</code> 元素表示为文档化文件生成的所有页面的布局。</li>
<li> <code>group</code> 元素表示为文档化的组(或模块)生成的所有页面的布局。</li>
<li> <code>directory</code> 元素表示为文档化目录生成的所有页面的布局。</li>
</ul>
<p>
上面页面元素中的每个XML元素都表示一定的信息。有些片段可以出现在每种类型的页面中，有些片段是特定于特定类型的页面的。Doxygen将按照它们在XML文件中出现的顺序列出这些片段。</p>
<p>每个页面都可以使用以下通用元素: </p><dl>
<dt><code>briefdescription</code> </dt>
<dd>表示页面上的简要描述。 </dd>
<dt><code>detaileddescription</code> </dt>
<dd>表示页面上的详细描述。 </dd>
<dt><code>authorsection</code> </dt>
<dd>表示页面的作者部分(仅用于手册页)。这是一个单独的手册页部分，文本如下:<code>由Doxygen从源代码为我的项目自动生成。</code> 这不应该被doxygen命令<a class="el" href="commands.html#cmdauthor">\author</a> 或在详细描述中生成author段落的<a class="el" href="commands.html#cmdauthors">\authors</a>所误解。 </dd>
<dt><code>memberdecl</code> </dt>
<dd>表示页面上成员的快速概览(成员声明)。此元素具有每个成员列表类型的子元素。文档中没有详细列出可能的子元素，但是元素的名称应该很好地指示元素所代表的成员的类型。 </dd>
<dt><code>memberdef</code> </dt>
<dd>表示页面上的详细成员列表(成员定义)。与<code>memberdecl</code>元素一样，这个元素也有许多可能的子元素。</dd>
</dl>
<p>类页面有以下具体元素: </p><dl>
<dt><code>includes</code> </dt>
<dd>表示获取该类定义所需的包含文件。</dd>
<dt><code>inheritancegraph</code> </dt>
<dd>表示类的继承关系。注意，CLASS_DIAGRAM选项确定继承关系是基类和派生类列表还是图。 </dd>
<dt><code>collaborationgraph</code> </dt>
<dd>表示类的协作图。 </dd>
<dt><code>allmemberslink</code> </dt>
<dd>表示指向类的所有成员列表的链接。</dd>
<dt><code>usedfiles</code> </dt>
<dd>表示从其中提取该类文档的文件列表。 </dd>
</dl>
<p>文件页面有以下具体元素: </p><dl>
<dt><code>includes</code> </dt>
<dd>表示此文件中包含的#include语句列表。 </dd>
<dt><code>includegraph</code> </dt>
<dd>表示文件的包含依赖关系图。 </dd>
<dt><code>includedbygraph</code> </dt>
<dd>表示文件的从属关系图。 </dd>
<dt><code>sourcelink</code> </dt>
<dd>表示指向此文件源代码的链接。 </dd>
</dl>
<p>group页面有一个特定的<code>groupgraph</code> 元素，它表示显示组之间依赖关系的图。</p>
<p>类似地，目录页面有一个特定的<code>directorygraph</code> 元素，它表示基于目录中文件的#include关系显示目录之间依赖关系的图。</p>
<p>有些元素有一个<code>visible</code> 的属性，通过将属性值设置为“no”，可以将片段隐藏在生成的输出中。您还可以使用配置选项的值来确定可见性，方法是使用它的名称加上美元符号，例如。 </p><pre class="fragment">  ...
  &lt;includes visible="$SHOW_INCLUDE_FILES"/&gt;
  ...
</pre><p> 这主要是为了向后兼容而添加的。注意，<code>visible</code>属性只是doxygen的一个提示。如果某部分没有相关的信息，即使设置为<code>yes</code>(即没有生成空的部分)，也会省略。</p>
<p>有些元素具有<code>title</code> 属性。此属性可用于自定义doxygen将用作文章标题的标题。</p>
<dl class="section warning"><dt>警告</dt><dd>目前，您不应该从布局文件中删除元素来隐藏信息。这样做会导致生成输出中的链接断开!</dd></dl>
<h1><a class="anchor" id="xmlgenerator"></a>
使用XML输出</h1>
<p>如果上述两种方法仍然不能提供足够的灵活性，您还可以使用doxygen生成的XML输出作为基础来生成您喜欢的输出。为此，将GENERATE_XML设置为YES。</p>
<p>XML输出由一个名为<code>index.xml</code> 的索引文件组成，该文件列出doxygen提取的所有项，并引用其他XML文件以获取详细信息。索引的结构由模式文件<code>index.xsd</code>描述。所有其他XML文件都由名为<code>compound.xsd</code>的模式文件描述。如果喜欢一个大的XML文件，可以使用XSLT文件<code>combine.xslt</code>组合索引和其他文件。</p>
<p>您可以使用任何XML解析器来解析该文件，或者使用可以在doxygen的源文件分发目录，即<code>addon/doxmlparser</code>目录中找到的解析器。查看<code>addon/doxmlparser/include/doxmlintf.h</code> 获得解析器的接口，并在<code>addon/doxmlparser/example</code> 中获得示例。</p>
<p>
使用doxmlparser的好处是，它只将索引文件读入内存，然后只读入通过索引导航隐式加载的XML文件。因此，即使对于非常大的项目，将所有XML文件作为一个大DOM树读取也不能装入内存中，这种方法仍然有效。</p>
<p>有关使用Python中的doxygen XML输出与<a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 文档生成器连接的示例，请参阅<a href="https://github.com/michaeljones/breathe">Breathe 项目</a>。</p>
<p> 
转到<a href="custcmd.html">下一节</a>或返回到
 <a href="index.html">索引</a>。
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
